(this.webpackJsonpmusicPlayer_react=this.webpackJsonpmusicPlayer_react||[]).push([[0],{23:function(e,t,a){e.exports=a(39)},28:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),s=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(10),l=a(1),o=(a(28),a(6)),u=a.n(o),m=a(8),d=a(11),p=a(12),h=a(14),g=a(13),v=(a(30),{url:"http://localhost:",port:"5000"});function f(e){var t=Math.floor(e/60),a=e-60*t;return a<10&&(a="0"+String(a)),{minutes:String(t),seconds:String(a)}}var E=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={songId:null,songTitle:null},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.refs.TrackSliderRef.value=0}},{key:"componentDidUpdate",value:function(e){null!=this.props.songItem&&this.props.songItem[0]!==e.songItem[0]&&(this.setState({songId:this.props.songItem[0],songTitle:this.props.songItem[1]}),this.refs.audio.pause(),this.refs.audio.load(),this.refs.audio.play(),this.refs.currentTimeRef.innerText=0)}},{key:"playOrPause",value:function(){var e=document.getElementById("audioPlayer");e.paused?e.play():e.pause()}},{key:"prevOrNext",value:function(e){var t=this;e=parseInt(e);var a=this.state.songId;if(null!=a){var n=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(r);case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a=parseInt(a),0===e?a-=1:a+=1;var r=v.url+v.port+"/checksong/"+String(a);n().then((function(e){return t.setAudioSource(e)})).catch((function(e){return console.log(e)}))}}},{key:"setAudioSource",value:function(e){var t=v.url+v.port+"/song/"+e.id;document.getElementById("audioSource").src=t;var a=document.getElementById("audioPlayer");this.setState({songId:e.id,songTitle:e.name}),a.pause(),a.load(),a.play()}},{key:"setTrackSlider",value:function(){var e=document.getElementById("audioPlayer"),t=document.getElementById("TrackSliderId");t.value=0;var a=Math.floor(e.duration);t.max=a;var n=f(a);document.getElementById("TotalTimeId").innerText=n.minutes+":"+n.seconds}},{key:"updateTrackTime",value:function(){var e=document.getElementById("audioPlayer"),t=Math.floor(e.currentTime),a=f(t);document.getElementById("currentTimeId").innerText=a.minutes+":"+a.seconds,document.getElementById("TrackSliderId").value=t}},{key:"updateTrackSlider",value:function(){var e=document.getElementById("audioPlayer");if(e.duration>0){var t=document.getElementById("TrackSliderId"),a=parseInt(t.value);e.currentTime=a}}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"MusicPlayerDiv",className:"MusicPlayer"},r.a.createElement("p",{id:"playerTitle"},this.state.songTitle),r.a.createElement("audio",{controls:!0,ref:"audio",id:"audioPlayer",onTimeUpdate:this.updateTrackTime,onDurationChange:this.setTrackSlider},r.a.createElement("source",{src:v.url+v.port+"/song/"+this.state.songId,type:"audio/mpeg",id:"audioSource"})),r.a.createElement("div",{id:"slider"},r.a.createElement("input",{type:"range",min:"0",max:"100",className:"TrackSlider",id:"TrackSliderId",ref:"TrackSliderRef",onInput:this.updateTrackSlider}),r.a.createElement("span",{className:"timerSpan"},r.a.createElement("i",{className:"timer",ref:"currentTimeRef",id:"currentTimeId"}),r.a.createElement("i",{className:"timer",id:"TotalTimeId"}))),r.a.createElement("div",{id:"controlsId",className:"controls"},r.a.createElement("a",{onClick:function(){return e.prevOrNext(0)}},r.a.createElement("img",{src:"./icons/back.svg",height:"30",width:"30"})),r.a.createElement("a",{onClick:this.playOrPause},r.a.createElement("img",{src:"./icons/play.svg",height:"30",width:"30"})),r.a.createElement("a",{onClick:function(){return e.prevOrNext(1)}},r.a.createElement("img",{src:"./icons/next.svg",height:"30",width:"30"})))))}}]),a}(r.a.Component),y=(a(31),function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).changeSong=function(e){var t=parseInt(e.target.getAttribute("musicid")),a=e.target.getAttribute("musictitle");Number.isInteger(t)&&n.setState({songItem:[t,a]})},n.state={songItem:[],error:null,isLoaded:!1,message:null,allSongs:[]},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(v.url+v.port+"/songs");case 3:return t=e.sent,e.next=6,t.json();case 6:null!=(a=e.sent).songs?this.setState({isLoaded:!0,allSongs:a.songs}):this.setState({message:a.message}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.setState({error:"Server isn't started"});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=e.allSongs;if(t)return r.a.createElement("div",null,r.a.createElement("h1",{className:"scanMessage"},"Error: ",this.state.error));if(a){var c=n.map((function(e){return r.a.createElement("div",{className:"MusicCards",musicid:e.id,musictitle:e.name,key:e.id},r.a.createElement("span",null,r.a.createElement("b",{className:"MusicID",musicid:e.id,musictitle:e.name},e.id,": "),r.a.createElement("b",{className:"MusicName",musicid:e.id,musictitle:e.name},e.name)),r.a.createElement("p",{className:"MusicPath",musicid:e.id,musictitle:e.name},"Path: ",e.path))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{songItem:this.state.songItem}),r.a.createElement("div",{id:"MusicListDiv",className:"MusicList",onClick:this.changeSong},c))}return r.a.createElement("div",null,r.a.createElement("h1",{className:"scanMessage"},this.state.message))}}]),a}(r.a.Component)),I=a(22);a(32);var k=function(){var e=Object(n.useState)(""),t=Object(I.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){var e=v.url+v.port+"/directory/?directory="+a;""!==a&&function(){var t=Object(m.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,console.log(n),document.getElementById("message").innerText=n.status;case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"scan"},r.a.createElement("div",null,r.a.createElement("h2",null,"Scan"),r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"path"},"Enter Directory Path:")),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"path",name:"path"}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return c(document.getElementById("path").value)}},"Scan"),r.a.createElement("br",null),r.a.createElement("label",{id:"message",className:"message"}))))};a(33);var S=function(){var e={color:"white",textDecoration:"none"};return r.a.createElement("div",{className:"navBar"},r.a.createElement("span",null,r.a.createElement(i.b,{to:"/",id:"player",style:e},"Player"),r.a.createElement(i.b,{to:"/scan",id:"scan",style:e},"Scan")))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(S,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:y}),r.a.createElement(k,{path:"/scan",component:k})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.bf37d969.chunk.js.map